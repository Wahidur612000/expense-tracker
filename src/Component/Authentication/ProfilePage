import React, { useState } from 'react';
import './profilePage.css'; // Import CSS for styling
import axios from 'axios'; // Import axios for making HTTP requests

const ProfilePage = () => {
  const [fullName, setFullName] = useState('');
  const [photoUrl, setPhotoUrl] = useState('');
  const [profileCompletion, setProfileCompletion] = useState(64);

  const handleUpdateProfile = () => {
    // Make HTTP POST request to update profile
    axios.post(`https://identitytoolkit.googleapis.com/v1/accounts:update?key=[API_KEY]`, {
      idToken: '[USER_ID_TOKEN]',
      displayName: fullName,
      photoUrl: photoUrl,
      returnSecureToken: true
    })
    .then(response => {
      // Handle successful response
      console.log('Profile updated successfully:', response.data);
    })
    .catch(error => {
      // Handle error
      console.error('Error updating profile:', error);
    });
  };

  return (
    <div className="profile-page">
      <div className="profile-header">
        <div className="quote">Winners never quit, Quitters never win.</div>
        <div className="profile-completion">
          <div className="completion-text">Your Profile is only {profileCompletion}% updated.</div>
          <button className="complete-now" onClick={handleUpdateProfile}>Complete now</button>
        </div>
      </div>
      <div className="red-line"></div>
      <div className="profile-form">
        <div className="form-title">Contact details</div>
        <div className="input-group">
          <img src="https://img.icons8.com/?size=64&id=4Z2nCrz5iPY2&format=png" alt="github logo" className="icon" />
          <input
            type="text"
            placeholder="Enter your full name"
            value={fullName}
            onChange={(e) => setFullName(e.target.value)}
          />
        </div>
        <div className="input-group">
          <img src="https://img.icons8.com/?size=80&id=7gn1JUOaj7KZ&format=png" alt="globe logo" className="icon" />
          <input
            type="text"
            placeholder="Enter profile photo URL"
            value={photoUrl}
            onChange={(e) => setPhotoUrl(e.target.value)}
          />
        </div>
      </div>
    </div>
  );
};

export default ProfilePage;
